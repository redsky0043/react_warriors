{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/App.jsx","components/utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMovieToWillWatch","deleteMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","React","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","getClassLink","App","getMovies","fetch","then","response","json","data","movies","results","updateMovies","filter","item","id","moviesWillWatch","updateMoviesWillWatch","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f5d43c3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            willWatch: false,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { movie, removeMovie, addMovieToWillWatch, deleteMovieFromWillWatch } = this.props;\r\n        return (\r\n            <div className=\"card\">\r\n                <img\r\n                    className=\"card-img-top\"\r\n                    src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\r\n                        movie.poster_path}`}\r\n                    alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                    <h6 className=\"card-title\">{movie.title}</h6>\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n                        {this.state.willWatch ? (\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-success\"\r\n                                onClick={() => {\r\n                                    this.setState({\r\n                                        willWatch: false\r\n                                    });\r\n                                    deleteMovieFromWillWatch(movie)\r\n                                }}\r\n                            >\r\n                                Remove Will Watch\r\n                            </button>\r\n                        ) : (\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => {\r\n                                        this.setState({\r\n                                            willWatch: true\r\n                                        });\r\n                                        addMovieToWillWatch(movie)\r\n                                    }}\r\n                                >\r\n                                    Add Will Watch\r\n                                </button>\r\n                            )}\r\n                    </div>\r\n                    <button onClick={removeMovie.bind(null, movie)} >\r\n                        Delete movie\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MovieItem;","import React from \"react\";\r\n\r\nclass MovieTabs extends React.Component {\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextProps.sort_by !== this.props.sort_by) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    const handleClick = (value) => () => {\r\n      updateSortBy(value);\r\n    };\r\n\r\n    const getClassLink = (value) => {\r\n      return `nav-link ${sort_by === value ? \"active\" : \"\"}`;\r\n    };\r\n\r\n    return (\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"popularity.desc\")}\r\n            onClick={handleClick(\"popularity.desc\")}\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"revenue.desc\")}\r\n            onClick={handleClick(\"revenue.desc\")}\r\n          >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"vote_average.desc\")}\r\n            onClick={handleClick(\"vote_average.desc\")}\r\n          >\r\n            Vote average desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs.jsx\";\nimport { API_URL, API_KEY_3 } from \"./utils/api\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"revenue.desc\",\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sort_by !== this.state.sort_by) {\n      this.getMovies()\n    }\n  }\n\n  getMovies = () => {\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        this.setState({\n          movies: data.results,\n        });\n      });\n  };\n\n  removeMovie = (movie) => {\n    const updateMovies = this.state.movies.filter(function (item) {\n      return item.id !== movie.id;\n    });\n    this.setState({\n      movies: updateMovies,\n    });\n  };\n\n  addMovieToWillWatch = (movie) => {\n    const moviesWillWatch = [...this.state.moviesWillWatch, movie];\n\n    this.setState({\n      moviesWillWatch: moviesWillWatch,\n    });\n  };\n\n  deleteMovieFromWillWatch = (movie) => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(function (\n      item\n    ) {\n      return item.id !== movie.id;\n    });\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch,\n    });\n  };\n\n  updateSortBy = (value) => {\n    this.setState({\n      sort_by: value,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map((movie) => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <h4> Will Watch : {this.state.moviesWillWatch.length} movies </h4>\n            <ul className=\"list-group\">\n              {this.state.moviesWillWatch.map((movie) => (\n                <li key={movie.id} className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{movie.title}</p>\n                    <p>{movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}